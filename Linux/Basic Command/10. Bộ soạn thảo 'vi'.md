# Bộ soạn thảo "vi"

- Có sẵn trong tất cả các phiên bản của hệ thống Unix
- Phiên bản nâng cấp của Bộ soạn thảo vi được gọi là **Vim**. Vim là viết tắt của **V**i **Im**proved.
- Sử dụng Bộ soạn thảo vi để chỉnh sửa 1 file đã có hoặc tạo 1 file mới từ scratch. Cũng có thể sử dụng nó chỉ để đọc 1 file văn bản.

|Lệnh| Miêu tả|
|----|--------|
|vi filename|Tạo 1 file mới nếu nó chưa tồn tại, nếu không thì mở 1 file đã tồn tại|
|vi -R filename| Mở 1 file đang tồn tại trong chế độ chỉ đọc|

### Các chế độ họa động trong Unix/Linux:
Trong khi làm việc với bộ soạn thảo vi, sẽ có 2 chế độ sau:

1. **Chế độ lệnh (Command mode)**: Nó cho phép thực hiện các nhiệm vụ chính như lưu file, chạy lệnh, di chuyển con trỏ, cắt dán các dòng hoặc từ, tìm kiếm và đổi vị trí. Trong chế độ này, bất cứ cái gì được bạn gõ và hệ thống biên dịch (hiểu) như 1 lệnh

2. **Chế độ chèn (Insert mode)**: Chế độ này cho phép chèn văn bản vào trong file. Mọi thứ được gõ vào trong chế độ này được hệ thống hiểu như là một đầu vào và cuối cùng nó đặt vào trong file.

Bộ soạn thảo **vi** thường bắt đầu với chế độ lệnh. Để nhập văn bản, bạn phải vào trong chế độ chèn. Để vào chế độ chèn, cần gõ chữ **i**. Để thoát khỏi chế độ chèn, nhấn phím **Esc**, nó sẽ quay trở lại chế độ lệnh.

### Thoát khỏi vi trong Unix/Linux

|Lệnh|Mô tả|
|----|-----|
|:q|Thoát khỏi bộ soạn thảo vi|
|:q!|Thoát mà không lưu (đối với file đã được chỉnh sửa)|
|:w|Lưu nội dung file đã chỉnh sửa|
|:wq|Lưu và thoát|
|:w filename| Lưu file đang sử dụng dưới 1 tên là filename|

### Di chuyển trong 1 file Unix/Linux

- Để di chuyển trong 1 file mà không ảnh hưởng đến văn bản, bạn phải trong chế độ lệnh. 

|Lệnh|Mô tả|
|----|-----|
|k|Di chuyển con trỏ lên 1 dòng|
|j|Di chuyển con trỏ xuống 1 dòng|
|h|Di chuyển con trỏ sang trái 1 kí tự|
|l|Di chuyển con trỏ sang phải 1 kí tự|

- Có 2 điểm quan trọng cần nhớ:
  - Bộ soạn thảo vi phân biệt chữ hoa và chữ thường, vì thế cần chú ý khi viết chữ hoa trong sử dụng lệnh
  - Hầu hết các lệnh trong vi có thể được mở đầu bằng số lần bạn muốn hành động xả ra. Ví dụ 2j là di chuyển con trỏ xuống 2 dòng

|Lệnh   |Mô tả|
|-------|-----|
|0 or|  |Đặt vị trí con trỏ tại đầu dòng|
|$| Đặt vị trí con trỏ ở cuối dòng|
|w|Đặt vị trí con trỏ ở từ tiếp theo|
|b|Đặt vị trí con trỏ ở từ trước|
|(|Đặt vị trí con trỏ ở đầu câu văn hiện tại|
|)|Đặt vị trí con trỏ ở đầu câu văn kế tiếp|
|E|Di chuyển đến phần cuối của từ được giới hạn khoảng trắng|
|{|Di chuyển tới đoạn văn sau|
|}|Di chuyển về đoạn văn trước|
|[[|Di chuyển tới khu vực sau|
|]]|Di chuyển về khu vực trước|
|**n**| | Di chuyển tới cột **n** trong dòng hiện tại|
|1G|Di chuyển tới dòng đầu tiên của file|
|G|Di chuyển tới dòng cuối cùng của file|
|**n**G|Di chuyển tới dòng thứ **n** của file|
|:**n**|Di chuyển tới dòng thứ **n** của file|
|H|Di chuyển tới đầu màn hình|
|**n**H|Di chuyểntới dòng thứ **n** tính từ đầu của màn hình|
|M|Di chuyển tới giữa màn hình|
|L|Di chuyển tới cuối màn hình|
|**n**L|Di chuyển tới dòng thứ **n** tính từ cuối cùng của màn hình|
|:**x**|Dấu hai chấm theo sau bởi 1 số sẽ đặt vị trí của con trỏ trên dòng số **x**|

###


