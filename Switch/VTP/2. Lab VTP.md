# I. Các mô hình LAb VTP: 

1-n: Server - Client: kiểm tra quá trình đồng bộ VLAN từ mode server xuống mode client 
1-1-1: Server - Transparent - Client: Kiểm tra quá trình đồng bộ Vlan giữa mode server - client. Tạo các VLAN trong mode transparent kiểm tra quá trình đồng bộ.
1 -1 -1: Server - Client - Client: Với client có số rivision lớn hơn server hoặc ( server1 - server2 - client với server2 được mở rộng có số rivision lớn hơn server1 )

# II. LAB

## 1. Mô hình LAB (1-n)

- **Mô hình**: 

![a](https://f8-zpcloud.zdn.vn/318195324179839852/048ae635fd6f24317d7e.jpg)

### a, Trên switch hostname Svtp: (VTP mode Server)

- **Cấu hình VTP Domain và VTP password**:

```
Switch(config)#vtp domain sontest
Changing VTP domain name from NULL to sontest
Switch(config)#vt
Switch(config)#vtp pas
Switch(config)#vtp password sontest1
Setting device VTP password to sontest1
```

- **Kiểm tra status VTP**:

```
Switch#sh vtp status
VTP Version capable             : 1 to 3
VTP version running             : 1
VTP Domain Name                 : sontest
VTP Pruning Mode                : Disabled
VTP Traps Generation            : Disabled
Device ID                       : 0018.19f0.2c00
Configuration last modified by 172.16.5.102 at 11-22-22 04:07:19
Local updater ID is 172.16.5.102 on interface Vl1 (lowest numbered VLAN interface found)

Feature VLAN:
--------------
VTP Operating Mode                : Server
Maximum VLANs supported locally   : 1005
Number of existing VLANs          : 6
Configuration Revision            : 1
MD5 digest                        : 0xBC 0x56 0x9F 0x4F 0x21 0x34 0x9D 0x77
                                    0xF9 0xB3 0x1D 0xAA 0xFE 0x3E 0x64 0x59
```

![a](https://f8-zpcloud.zdn.vn/965446902892477839/07d37516534c8a12d35d.jpg)

Ở đây ta có thể thấy được các thông tin của VTP, đối với switch trên ta có thể thấy mode là: `VTP Server`.

- **Cấu hình mode trunk cổng kết nối giữa 2 switch mode vtp server và switch mode vtp client**

```
interface GigabitEthernet1/0/14
 switchport trunk encapsulation dot1q
 switchport mode trunk
```

![a](https://f7-zpcloud.zdn.vn/631353578936621695/1df6cbb396e94fb716f8.jpg)

### b, Trên switch hostname Cvtp: (VTP mode Client)

- **Cấu hình VTP Domain và VTP password**:

```
Switch(config)#vtp domain sontest
Changing VTP domain name from NULL to sontest
Switch(config)#vt
Switch(config)#vtp pas
Switch(config)#vtp password sontest1
Setting device VTP password to sontest1
Cvtp(config)#vtp mode client                    # Cấu hình vtp mode client
Setting device to VTP Client mode for VLANS.
```

- **Kiểm tra status VTP**:

```
Cvtp#sh vtp status
VTP Version capable             : 1 to 3
VTP version running             : 1
VTP Domain Name                 : sontest
VTP Pruning Mode                : Disabled
VTP Traps Generation            : Disabled
Device ID                       : c062.6b08.9380
Configuration last modified by 172.16.5.102 at 11-22-22 04:07:19

Feature VLAN:
--------------
VTP Operating Mode                : Client
Maximum VLANs supported locally   : 1005
Number of existing VLANs          : 6
Configuration Revision            : 1
MD5 digest                        : 0xBC 0x56 0x9F 0x4F 0x21 0x34 0x9D 0x77
                                    0xF9 0xB3 0x1D 0xAA 0xFE 0x3E 0x64 0x59
```

![a](https://f8-zpcloud.zdn.vn/6880379063218405043/f2b6fa9e8ec4579a0ed5.jpg)

Ở đây ta có thể thấy được các thông tin của VTP, đối với switch trên ta có thể thấy mode là: `VTP Client`.

- **Cấu hình mode trunk cổng kết nối giữa 2 switch mode vtp server và switch mode vtp client**

```
interface GigabitEthernet2/0/14
 switchport trunk encapsulation dot1q
 switchport mode trunk
```

![a](https://f7-zpcloud.zdn.vn/2589589884119419998/e9dffd0f8c55550b0c44.jpg)

### c, Kiểm tra việc đồng bộ VLAN giữa mode Server và Client:

-  Kiểm tra vtp status trên 2 switch, và chỉ số rivision:

![a](https://f8-zpcloud.zdn.vn/5805823587776886161/7da3880f1755ce0b9744.jpg)

- Thực hiện kiểm tra bằng cách tạo 1 VLAN trên switch vtp server và kiểm tra lại trên switch vtp mode client

![a](https://f5-zpcloud.zdn.vn/1370947719470447402/36d62336826c5b32027d.jpg)

