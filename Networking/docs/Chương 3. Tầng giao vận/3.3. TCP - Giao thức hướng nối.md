### 1. Kết nối TCP 
- TCP hướng nối vì trước khi tiến trình gửi ứng dụng phải có thủ tục "bắt tay" với nhau giữa 2 tiến trình
- TCP chỉ hoạt động trên thiết bị đầu cuối và không hoạt động trên các thiết bị trung gian (Switch, bridge, router)
- Kết nối TCP cung cấp dường truyền dữ liệu hai hướng (song công - Full duplex): có thể gửi và nhận đòng thời
- Thủ tục thiết lập kết nối được gọi là giai đoạn bắt tay 3 bước (three way handshake)

### 2. Cấu trúc TCP Segment
 
![tcp](https://f45-zpg.zdn.vn/5984581486379445585/488152b50d45c61b9f54.jpg)

*TCP có các trường:*

- Trường số thứ tự (sequence number) 32 bit và trường số biên nhận (acknowledge number) 32 bit được bên gửi và bên nhận sử dụng trong việc cung cấp dịch vụ truyền dữ liệu tin cậy
- Trường độ lớn của cửa sổ (window size) 16 bit được sử dụng để kiểm soát lưu lượng. Đấy chính là số lượng dữ liệu tối đa (byte) mà bên nhận có thể chấp nhận được
- Trường độ dài tiêu đề (length field) 4 bit xác định độ dài TCP theo đơn vị là các từ 32 bit. Thay đổi vào trường option (rỗng thì tiêu đề TCP là 20 byte)
- Trường option là tùy chọn, có thể thay đổi tùy ý
- Trường cờ (Flag) gồm 6 bit:
  - Bit ACK chỉ ra giá trị trong trường biên nhận là đúng
  - Bit RST, SYN, FIN sử dụng trong việc thiết lập hay đóng kết nối
  - Bit PSH được bật, dấu hiệu để yêu cầu bên nhận phải chuyển dữ liệu lên tầng trên ngay lập tức.
  - Bit URG dùng để báo hiệu dữ liệu trong segment được thực thể tầng trên phía gửi được tạo ra là "khẩn cấp"
  - Vị trí byte cuối cùng của dữ liệu khẩn cấp được xác định bởi con trỏ dữ liệu khẩn 16 bit (ptr to urgent data)

### 3. Số thứ tự và số biên nhận